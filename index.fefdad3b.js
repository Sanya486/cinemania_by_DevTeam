function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},r.parcelRequired7c6=a),a.register("kyEFX",(function(t,r){var n,i;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var a={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)a[t[r]]=e[t[r]]},i=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("8nneY",(function(t,r){e(t.exports,"cardMarkup",(function(){return o}));var n=a("e9oz9"),i=a("59yTk");const o=async e=>await(0,n.fetchMovieDetails)(e).then((e=>{const t={id:e.id,smallPoster:e.smallPoster,title:e.title,genres:e.genres,year:e.date.slice(0,4),rate:Math.round(e.voteAverage)},r=(0,i.rateArray)(t.rate).map((e=>`<li class="rating-item">\n               <img class="rating-icon" src="${e}" alt="">\n               </li>`)).join("");return`\n          <div class="film-card" id="${t.id}">\n          <a class="card-link" href="">\n          <div class="img-ovelay"></div>\n          <img class ="film-poster" src="https://image.tmdb.org/t/p/original${t.smallPoster}" alt="${t.title}, ${t.year}, ${t.genres}">\n          <div class="film-card-info">\n          <p class="film-name">${t.title}</p>\n          <div class="film-wrap">\n            <p class="film-feature">${t.genres} | ${t.year}</p>\n            <ul class="film-rating">\n    \n            ${r}\n            </ul>\n            </div>\n          </div>\n        </a>\n        </div>\n        `})).catch((e=>console.log(e)))})),a.register("59yTk",(function(r,n){e(r.exports,"rateArray",(function(){return c}));var i=a("SIKRz"),o=a("1cBhF"),l=a("hAeG2");const s={full:t(i),half:t(o),empty:t(l)},c=e=>["","","","",""].map((()=>0===e?s.empty:e>=2?(e-=2,s.full):1===e?(e-=1,s.half):void 0))})),a.register("SIKRz",(function(e,t){e.exports=new URL(a("kyEFX").resolve("hF6eL"),import.meta.url).toString()})),a.register("1cBhF",(function(e,t){e.exports=new URL(a("kyEFX").resolve("7GXgT"),import.meta.url).toString()})),a.register("hAeG2",(function(e,t){e.exports=new URL(a("kyEFX").resolve("i1mK8"),import.meta.url).toString()})),a.register("ctBDl",(function(e,t){var r=a("2shzp"),n=a("e9oz9"),i=a("59yTk"),o=a("aDtKJ");const l={heroContainer:document.querySelector(".home-hero > .container"),trailerModal:document.querySelector(".trailer-modal"),trailerModalContent:document.querySelector(".trailer-modal-content"),moreDetail:document.querySelector(".modal-film-info"),poster:document.querySelector(".poster-img"),title:document.querySelector(".movie-title"),vote:document.querySelector(".vote"),votes:document.querySelector(".votes"),popularity:document.querySelector(".popularity"),genre:document.querySelector(".genre"),description:document.querySelector(".about p"),closeModalBtn:document.querySelector(".close-trailer-btn"),wrap:document.querySelector(".flex")};let s,c,d,m=[],u=localStorage.getItem("films-id-array");function p(e){const t=+e.target.dataset.id;var r;r=t,l.trailerModal.classList.remove("is-hidden"),async function(e){try{const t=await(0,o.fetchTrailers)(e);if(t.length>0){const e=function(e){return`\n    <iframe width="560" height="315" src="https://www.youtube.com/embed/${e}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>\n  `}(t[0].key);l.trailerModalContent.innerHTML=`<div class="trailer-modal-content">${e}</div>`}else{const e='\n    <div class="trailer-error-info">\n      <p>OOPS...</p>\n      <p>We are very sorry!</p>\n      <p>But we couldn\'t find the trailer.</p>\n    </div>\n    <picture>\n      <source srcset="../../images/trailer-placeholder/mobile/trailer-placeholder-1x.png, 1x, \n                    ../../images/trailer-placeholder/mobile/trailer-placeholder-2x.png, 2x" \n              media="(max-width: 320px)">\n      <source srcset="../../images/trailer-placeholder/tablet/trailer-placeholder-1x.png, 1x, \n                    ../../images/trailer-placeholder/tablet/trailer-placeholder-2x.png, 2x" \n              media="(max-width: 768px)">\n      <source srcset="../../images/trailer-placeholder/desktop/trailer-placeholder-1x.png, 1x, \n                    ../../images/trailer-placeholder/desktop/trailer-placeholder-2x.png, 2x" \n              media="(min-width: 769px)">\n      <img src="../../images/trailer-placeholder/mobile/trailer-placeholder-1x.png" alt="Traier is not found">\n    </picture>\n    </div>\n  ';l.trailerModal.innerHTML=`<div class="trailer-modal-content">${e}</div>`}}catch(e){console.error("Error fetching trailer:",e)}}(r),document.addEventListener("keydown",y),l.closeModalBtn.addEventListener("click",g)}function v(e){var t;s=+e.target.dataset.id,t=s,l.moreDetail.classList.remove("is-hidden"),async function(e){try{const t=await(0,n.fetchMovieDetails)(e),r=`<div class="poster"> \n          <img src="https://image.tmdb.org/t/p/original/${t.smallPoster}" class="poster-img" alt="the poster of the movie you have chosen"/>\n        </div><div>\n          <h1 class="movie-title">${t.title}</h1><div class="movie-info">\n            <div class="info">\n              <ul>\n                <li>Vote / Votes</li>\n                <li>Popularity</li>\n                <li>Genre</li>\n              </ul>\n            </div><div class="params">\n              <ul>\n                <li>\n                  <div class="vote">${t.voteAverage}</div>\n                  /\n                  <div class="votes">${t.voteCount}</div>\n                </li>\n                <li><span class="popularity">${t.popularity.toFixed(1)}</span></li>\n                <li><span class="genre">${t.genres}</span></li>  \n              </ul>  \n            </div>\n          </div><div class="about">\n            <h2>ABOUT</h2>\n            <p>${t.overview}</p>\n          </div><div class="btn-list">\n            <button class="main-accent-sml-btn btn modal" id="btn-watch-treiller"\n            data-id="${e}">Watch trailer</button>\n            <button class="rm-dark-bcg-btn btn modal" id="btn-add-to-my-library">Add to my library</button>\n          </div>\n        </div>`;l.wrap.innerHTML=r;const i=document.querySelector("#btn-watch-treiller");c=document.querySelector("#btn-add-to-my-library"),i.addEventListener("click",p),c.addEventListener("click",b),JSON.parse(u).includes(s)&&w("Remove from my library"),null===u&&w("Add to my library")}catch(e){console.log(e)}}(t),document.addEventListener("keydown",h);document.querySelector(".modal-film-info .close-modal").addEventListener("click",f)}function f(){l.moreDetail.classList.add("is-hidden"),document.removeEventListener("keydown",h)}function g(){l.trailerModal.classList.add("is-hidden"),l.trailerModalContent.innerHTML="",document.removeEventListener("keydown",y),l.closeModalBtn.removeEventListener("click",g)}function h(e){"Escape"===e.key&&f()}function y(e){"Escape"===e.key&&g()}function b(){try{if(null===u)return m.push(s),localStorage.setItem("films-id-array",JSON.stringify(m)),u=localStorage.getItem("films-id-array"),void w("Remove from my library");let e=JSON.parse(u);if(!e.includes(s))return e.push(s),localStorage.setItem("films-id-array",JSON.stringify(e)),u=localStorage.getItem("films-id-array"),void w("Remove from my library");if(e.includes(s)){const t=e.indexOf(s);e.splice(t,1),localStorage.setItem("films-id-array",JSON.stringify(e)),u=localStorage.getItem("films-id-array"),w("Add to my library")}}catch(e){Notify.failure("Please, try one more time")}}function w(e){c.textContent=e}window.addEventListener("load",(async function(){try{const e=await(async()=>(await r.default.get("https://api.themoviedb.org/3/trending/movie/day?api_key=3e1aa277fd6b8a3cd0a3e29dfce20a5c")).data.results.map((e=>e.id)))();await async function(e){try{const t=e[Math.floor(Math.random()*e.length)];d=await(0,n.fetchMovieDetails)(t),function(e){const{title:t,overview:r,smallPoster:n,poster:a,voteAverage:o,id:s}=e,c=Math.round(o),d=(0,i.rateArray)(c).map((e=>`<li class="rating-item">\n               <img class="rating-icon" src="${e}" alt="">\n               </li>`)).join(""),m=`<div class="home-hero-api-movie">\n      <div class="home-hero-api-movie-con"><h2 class="home-hero-api-movie-name">${t}</h2>\n    <div class="home-hero-api-movie-rating">\n      <ul class="film-rating-hero">\n        ${d}\n      </ul>\n    </div>\n    <p class="home-hero-api-movie-description">\n      ${r}\n    </p>\n    <div class="home-hero-api-movie-btns">\n    <button class="main-accent-sml-btn btn" id='btn-watch-trailer' data-id="${s}">Watch trailer</button>\n    <button class="rm-light-bcg-btn btn btn-call-film-info" data-id="${s}">More details </button>\n    </div>\n  </div>\n  <div class="home-hero-api-movie-bg">\n    <img\n      src="https://image.tmdb.org/t/p/original/${n}"\n      srcset="\n        https://image.tmdb.org/t/p/original/${n}  320w,\n        https://image.tmdb.org/t/p/original/${a}  768w,\n        https://image.tmdb.org/t/p/original/${a} 1280w\n      "\n      sizes="(max-width: 320px) 320px,\n          (max-width: 768px) 380px,\n          1280px"\n      alt="${t}"\n    />\n    </div>\n    </div>`;l.heroContainer.innerHTML=m}(d)}catch(e){throw new Error(e.message)}}(e);document.getElementById("btn-watch-trailer").addEventListener("click",p);document.querySelector(".btn-call-film-info").addEventListener("click",v)}catch(e){throw new Error(e.message)}}))})),a("kyEFX").register(JSON.parse('{"6RgB0":"index.fefdad3b.js","hF6eL":"star-full.92151347.svg","7GXgT":"star-half.304c284f.svg","i1mK8":"star-empty.aaa63a40.svg"}'));
//# sourceMappingURL=index.fefdad3b.js.map
