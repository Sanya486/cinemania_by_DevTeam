!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=r.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},r.parcelRequired7c6=i),i.register("iE7OH",(function(t,r){var n,a;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var i={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)i[t[r]]=e[t[r]]},a=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("5T9lI",(function(r,n){e(r.exports,"cardMarkup",(function(){return d}));var a,o=i("bpxeT"),l=i("2TvXO"),c=i("ldyZu"),s=i("hLMxQ"),d=(a=t(o)(t(l).mark((function e(r){var n;return t(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fetchMovieDetails)(r).then((function(e){var t={id:e.id,smallPoster:e.smallPoster,title:e.title,genres:e.genres,year:e.date.slice(0,4),rate:Math.round(e.voteAverage)},r=(0,s.rateArray)(t.rate).map((function(e){return'<li class="rating-item">\n               <img class="rating-icon" src="'.concat(e,'" alt="">\n               </li>')})).join("");return'\n          <div class="film-card" id="'.concat(t.id,'">\n          <a class="card-link" href="">\n          <div class="img-ovelay"></div>\n          <img class ="film-poster" src="https://image.tmdb.org/t/p/original').concat(t.smallPoster,'" alt="').concat(t.title,", ").concat(t.year,", ").concat(t.genres,'">\n          <div class="film-card-info">\n          <p class="film-name">').concat(t.title,'</p>\n          <div class="film-wrap">\n            <p class="film-feature">').concat(t.genres," | ").concat(t.year,'</p>\n            <ul class="film-rating">\n    \n            ').concat(r,"\n            </ul>\n            </div>\n          </div>\n        </a>\n        </div>\n        ")})).catch((function(e){return console.log(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})})),i.register("hLMxQ",(function(r,n){e(r.exports,"rateArray",(function(){return s}));var a=i("2W3ba"),o=i("3AoWs"),l=i("gK8FZ"),c={full:t(a),half:t(o),empty:t(l)},s=function(e){return["","","","",""].map((function(){return 0===e?c.empty:e>=2?(e-=2,c.full):1===e?(e-=1,c.half):void 0}))}})),i.register("2W3ba",(function(e,t){e.exports=i("aNJCr").getBundleURL("6qV9m")+i("iE7OH").resolve("120rz")})),i.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var a={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),a[e]=t),t}})),i.register("3AoWs",(function(e,t){e.exports=i("aNJCr").getBundleURL("6qV9m")+i("iE7OH").resolve("7qto4")})),i.register("gK8FZ",(function(e,t){e.exports=i("aNJCr").getBundleURL("6qV9m")+i("iE7OH").resolve("e8OU2")})),i.register("2qgrg",(function(e,r){var n,a,o,l=i("bpxeT"),c=i("2TvXO"),s=i("dIxxU"),d=i("ldyZu"),u=i("hLMxQ"),p=i("dMHQ5"),m={heroContainer:document.querySelector(".home-hero > .container"),trailerModal:document.querySelector(".trailer-modal-backdrop"),trailerModalContent:document.querySelector(".trailer-modal-content"),moreDetail:document.querySelector(".modal-film-info"),poster:document.querySelector(".poster-img"),title:document.querySelector(".movie-title"),vote:document.querySelector(".vote"),votes:document.querySelector(".votes"),popularity:document.querySelector(".popularity"),genre:document.querySelector(".genre"),description:document.querySelector(".about p"),closeModalBtn:document.querySelector(".close-trailer-btn"),wrap:document.querySelector(".flex")},f=[],v=localStorage.getItem("films-id-array"),h=document.body.clientWidth,g=(o=t(l)(t(c).mark((function e(){var r,n,a;return t(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.get("https://api.themoviedb.org/3/trending/movie/".concat("day","?api_key=").concat("3e1aa277fd6b8a3cd0a3e29dfce20a5c"));case 2:return r=e.sent,n=r.data,a=n.results.map((function(e){return e.id})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)});function y(){return(y=t(l)(t(c).mark((function e(){var r;return t(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:return r=e.sent,e.next=6,b(r);case 6:e.sent,document.getElementById("btn-watch-trailer").addEventListener("click",S),document.querySelector(".btn-call-film-info").addEventListener("click",k),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function b(e){return x.apply(this,arguments)}function x(){return(x=t(l)(t(c).mark((function e(r){var n,a;return t(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Math.floor(Math.random()*r.length),a=r[n],e.next=5,(0,d.fetchMovieDetails)(a);case 5:w(e.sent),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function w(e){var t=e.title,r=e.overview,n=e.smallPoster,a=e.poster,i=e.voteAverage,o=e.id,l=Math.round(i),c=(0,u.rateArray)(l).map((function(e){return'<li class="rating-item">\n               <img class="rating-icon" src="'.concat(e,'" alt="">\n               </li>')})).join(""),s='<div class="home-hero-api-movie">\n      <div class="home-hero-api-movie-con"><h2 class="home-hero-api-movie-name">'.concat(t,'</h2>\n    <div class="home-hero-api-movie-rating">\n      <ul class="film-rating-hero">\n        ').concat(c,'\n      </ul>\n    </div>\n    <p class="home-hero-api-movie-description">\n      ').concat(r,'\n    </p>\n    <div class="home-hero-api-movie-btns">\n    <button class="main-accent-sml-btn btn" id=\'btn-watch-trailer\' data-id="').concat(o,'">Watch trailer</button>\n    <button class="rm-light-bcg-btn btn btn-call-film-info" data-id="').concat(o,'">More details </button>\n    </div>\n  </div>\n  <div class="home-hero-api-movie-bg">\n    <img\n      src="https://image.tmdb.org/t/p/original/').concat(n,'"\n      srcset="\n        https://image.tmdb.org/t/p/original/').concat(n,"  320w,\n        https://image.tmdb.org/t/p/original/").concat(a,"  768w,\n        https://image.tmdb.org/t/p/original/").concat(a,' 1280w\n      "\n      sizes="(max-width: 320px) 320px,\n          (max-width: 768px) 380px,\n          1280px"\n      alt="').concat(t,'"\n    />\n    </div>\n    </div>');m.heroContainer.innerHTML=s}function S(e){var t,r=+e.target.dataset.id;t=r,m.trailerModal.classList.remove("is-hidden"),function(e){O.apply(this,arguments)}(t),document.addEventListener("keydown",q),m.closeModalBtn.addEventListener("click",M)}function k(e){var t;n=+e.target.dataset.id,t=n,m.moreDetail.classList.remove("is-hidden"),function(e){T.apply(this,arguments)}(t),document.addEventListener("keydown",L),document.querySelector(".modal-film-info .close-modal").addEventListener("click",E)}function E(){m.moreDetail.classList.add("is-hidden"),document.removeEventListener("keydown",L)}function M(){m.trailerModal.classList.add("is-hidden"),m.trailerModalContent.innerHTML="",document.removeEventListener("keydown",q),m.closeModalBtn.removeEventListener("click",M)}function L(e){"Escape"===e.key&&E()}function q(e){"Escape"===e.key&&M()}function O(){return(O=t(l)(t(c).mark((function e(r){var n,a,i;return t(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.fetchTrailers)(r);case 3:(n=e.sent).length>0?(a=n[0].key,i=H(a),m.trailerModalContent.innerHTML=i):('\n    <div class="trailer-error-info">\n      <p>OOPS...</p>\n      <p>We are very sorry!</p>\n      <p>But we couldn\'t find the trailer.</p>\n    </div>\n    <picture>\n      <source srcset="../../images/trailer-placeholder/mobile/trailer-placeholder-1x.png, 1x, \n                    ../../images/trailer-placeholder/mobile/trailer-placeholder-2x.png, 2x" \n              media="(max-width: 320px)">\n      <source srcset="../../images/trailer-placeholder/tablet/trailer-placeholder-1x.png, 1x, \n                    ../../images/trailer-placeholder/tablet/trailer-placeholder-2x.png, 2x" \n              media="(max-width: 768px)">\n      <source srcset="../../images/trailer-placeholder/desktop/trailer-placeholder-1x.png, 1x, \n                    ../../images/trailer-placeholder/desktop/trailer-placeholder-2x.png, 2x" \n              media="(min-width: 769px)">\n      <img src="../../images/trailer-placeholder/mobile/trailer-placeholder-1x.png" alt="Traier is not found">\n    </picture>\n    </div>\n  ',m.trailerModal.innerHTML='<div class="trailer-modal-content">'.concat('\n    <div class="trailer-error-info">\n      <p>OOPS...</p>\n      <p>We are very sorry!</p>\n      <p>But we couldn\'t find the trailer.</p>\n    </div>\n    <picture>\n      <source srcset="../../images/trailer-placeholder/mobile/trailer-placeholder-1x.png, 1x, \n                    ../../images/trailer-placeholder/mobile/trailer-placeholder-2x.png, 2x" \n              media="(max-width: 320px)">\n      <source srcset="../../images/trailer-placeholder/tablet/trailer-placeholder-1x.png, 1x, \n                    ../../images/trailer-placeholder/tablet/trailer-placeholder-2x.png, 2x" \n              media="(max-width: 768px)">\n      <source srcset="../../images/trailer-placeholder/desktop/trailer-placeholder-1x.png, 1x, \n                    ../../images/trailer-placeholder/desktop/trailer-placeholder-2x.png, 2x" \n              media="(min-width: 769px)">\n      <img src="../../images/trailer-placeholder/mobile/trailer-placeholder-1x.png" alt="Traier is not found">\n    </picture>\n    </div>\n  ',"</div>")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching trailer:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function H(e){return h<=767?'\n    <iframe width="250" height="160" src="https://www.youtube.com/embed/'.concat(e,'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>\n  '):'\n    <iframe width="600" height="300" src="https://www.youtube.com/embed/'.concat(e,'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>\n  ')}function T(){return(T=t(l)(t(c).mark((function e(r){var n,i,o;return t(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.fetchMovieDetails)(r);case 3:n=e.sent,i='<div class="poster"> \n          <img src="https://image.tmdb.org/t/p/original/'.concat(n.smallPoster,'" class="poster-img" alt="the poster of the movie you have chosen"/>\n        </div><div>\n          <h1 class="movie-title">').concat(n.title,'</h1><div class="movie-info">\n            <div class="info">\n              <ul>\n                <li>Vote / Votes</li>\n                <li>Popularity</li>\n                <li>Genre</li>\n              </ul>\n            </div><div class="params">\n              <ul>\n                <li>\n                  <div class="vote">').concat(n.voteAverage,'</div>\n                  /\n                  <div class="votes">').concat(n.voteCount,'</div>\n                </li>\n                <li><span class="popularity">').concat(n.popularity.toFixed(1),'</span></li>\n                <li><span class="genre">').concat(n.genres,'</span></li>  \n              </ul>  \n            </div>\n          </div><div class="about">\n            <h2>ABOUT</h2>\n            <p>').concat(n.overview,'</p>\n          </div><div class="btn-list">\n            <button class="main-accent-sml-btn btn modal" id="btn-watch-treiller"\n            data-id="').concat(r,'">Watch trailer</button>\n            <button class="rm-dark-bcg-btn btn modal" id="btn-add-to-my-library">Add to my library</button>\n          </div>\n        </div>'),m.wrap.innerHTML=i,o=document.querySelector("#btn-watch-treiller"),a=document.querySelector("#btn-add-to-my-library"),o.addEventListener("click",S),a.addEventListener("click",C),A(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function A(){JSON.parse(v).includes(n)&&N("Remove from my library"),null===v&&N("Add to my library")}function C(){try{if(null===v)return f.push(n),localStorage.setItem("films-id-array",JSON.stringify(f)),v=localStorage.getItem("films-id-array"),void N("Remove from my library");var e=JSON.parse(v);if(!e.includes(n))return e.push(n),localStorage.setItem("films-id-array",JSON.stringify(e)),v=localStorage.getItem("films-id-array"),void N("Remove from my library");if(e.includes(n)){var t=e.indexOf(n);e.splice(t,1),localStorage.setItem("films-id-array",JSON.stringify(e)),v=localStorage.getItem("films-id-array"),N("Add to my library")}}catch(e){Notify.failure("Please, try one more time")}}function N(e){a.textContent=e}window.addEventListener("load",(function(){return y.apply(this,arguments)}))})),i("iE7OH").register(JSON.parse('{"6qV9m":"index.8ebc8e8f.js","120rz":"star-full.92151347.svg","7qto4":"star-half.304c284f.svg","e8OU2":"star-empty.aaa63a40.svg"}'))}();
//# sourceMappingURL=index.8ebc8e8f.js.map
