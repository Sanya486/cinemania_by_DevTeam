{"mappings":"oeAEAA,EAAA,S,mGCFA,IAAAC,EAAAD,EAAA,SAEA,MAAME,EAAiBC,SAASC,cAAc,sBACxCC,EAAkBF,SAASC,cAAc,4BACzCE,EAAcH,SAASC,cAAc,gBAGrCG,EAAgBC,KAAKC,MAAMC,aAAaC,QADzB,oBACmD,GAGxE,IAAIC,EAAO,EAeX,SAASC,IAGP,GAFAC,QAAQC,IAAI,iBAAkBR,GAED,IAAzBA,EAAcS,OAAc,CAC9B,MAAMC,EAAe,sTAKrBf,EAAegB,UAAYD,C,KACtB,CACL,MAAME,EAAiBZ,EACpBa,MA5BS,GA4BFR,EAAO,GA5BL,EA4BmBA,GAC5BS,KAAIC,IAAM,EAAArB,EAAAsB,YAAWD,KAExBE,QAAQC,IAAIN,GACTO,MAAKC,IACJ,MAAMC,EAAgBD,EAAUE,KAAK,IACrCxB,EAAgBa,WAAaU,EA1B5BrB,EAAcS,OARP,EAQ0BJ,EA6BhCN,EAAYwB,MAAMC,QAAU,QAE5BzB,EAAYwB,MAAMC,QAAU,MAAM,IAGrCC,OAAMC,IACLnB,QAAQmB,MAAM,8BAA+BA,EAAM,G,EAtC3DpB,IAMAP,EAAY4B,iBAAiB,SAAS,KACpCtB,GAAQ,EACRC,GAAa,I","sources":["src/js/index-library.js","src/js/other/library-favorites-cards.js"],"sourcesContent":["// =============Fetches-JS =============\n\nimport \"./fetches/fetch-upcoming\";\nimport \"./fetches/fetch-movie-details\";\nimport \"./fetches/fetch-movie-genre\";\nimport \"./fetches/fetch-trailer\";\nimport \"./fetches/fetch-search\";\nimport \"./fetches/fetch-trendings\";\n\n// =============Modals-JS =============\n\nimport \"./modals/modal-team\"\nimport \"./modals/slider-modal-team\"\n\n// =============Other-JS =============\n\n// import \"./other/card-markup\"\nimport \"./other/switch-theme-btn\"\nimport \"./other/mob-menu\"\nimport \"./other/library-favorites-cards\"\nimport \"./other/slide-menu\"\nimport \"./other/current-page-track\"\nimport \"./other/scroll-up\"\n// import \"./other/test-card-markup\"\n","import { cardMarkup } from './card-markup';\n\nconst sectionLibrary = document.querySelector('.library-film-list');\nconst libraryCardList = document.querySelector('.card-list-search-result');\nconst loadMoreBtn = document.querySelector('#js-loadmore');\n\nconst librariesKey = 'films-id-array';\nconst moviesLocalId = JSON.parse(localStorage.getItem(librariesKey)) || [];\n\nconst perPage = 9;\nlet page = 1;\n\n// localStorage.clear();\n\nrenderCards();\n\nfunction showMoreCards() {\n  return moviesLocalId.length > perPage * page;\n}\n\nloadMoreBtn.addEventListener('click', () => {\n  page += 1;\n  renderCards();\n});\n\nfunction renderCards() {\n  console.log('moviesLocalId ', moviesLocalId);\n\n  if (moviesLocalId.length === 0) {\n    const emptyLibrary = `<div class=\"container-library container\">\n      <p class=\"library-empty__mistake\">OOPS...<br>We are very sorry!<br>\n      You donâ€™t have any movies at your library.</p>\n      <button class=\"main-accent-sml-btn btn library\" onclick=\"window.location.href='catalog.html'\">Search movie</button>\n    </div>`;\n    sectionLibrary.innerHTML = emptyLibrary;\n  } else {\n    const renderPromises = moviesLocalId\n      .slice((page - 1) * perPage, page * perPage)\n      .map(id => cardMarkup(id));\n\n    Promise.all(renderPromises)\n      .then(filmCards => {\n        const filmCardsHTML = filmCards.join('');\n        libraryCardList.innerHTML += filmCardsHTML;\n\n        if (showMoreCards()) {\n          loadMoreBtn.style.display = 'block';\n        } else {\n          loadMoreBtn.style.display = 'none';\n        }\n      })\n      .catch(error => {\n        console.error('Error rendering film cards:', error);\n      });\n  }\n}\n"],"names":["parcelRequire","$8nneY","$edc98fd29b69c236$var$sectionLibrary","document","querySelector","$edc98fd29b69c236$var$libraryCardList","$edc98fd29b69c236$var$loadMoreBtn","$edc98fd29b69c236$var$moviesLocalId","JSON","parse","localStorage","getItem","$edc98fd29b69c236$var$page","$edc98fd29b69c236$var$renderCards","console","log","length","emptyLibrary","innerHTML","renderPromises","slice","map","id","cardMarkup","Promise","all","then","filmCards","filmCardsHTML","join","style","display","catch","error","addEventListener"],"version":3,"file":"library.4343d7a6.js.map"}