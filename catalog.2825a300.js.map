{"mappings":"iiBAEAA,EAAA,S,uDCFA,I,EAAAC,EAAAD,EAAA,S,0BAKME,G,EAA0BC,EAAAF,EAAA,CAAAE,EAAAC,GAAAC,MAAA,SAAAC,I,IACxBC,EAKCC,E,kFALgBC,EAAAC,QAAMC,IAC3B,0DAAkEC,OAJtD,qC,cAGRL,EAAQM,EAAAC,KAKPN,EAAmB,CACxBO,WAAYR,EAASS,KAAKC,KAC1BC,iBAAkBX,EAASS,KAAKG,QAChCC,kBAAmBb,EAASS,KAAKK,YACjCC,kBAAmBf,EAASS,KAAKO,e,kBAI3Bf,G,8ICyJVP,EAAAD,EAAA,S,aAAA,I,aAKMwB,EAAmBC,SAASC,cAAc,4BAoChDC,OAAOC,iBAAiB,QA/BF,WAElB,I,EAAMC,G,EAA6B1B,EAAAF,EAAA,CAAAE,EAAAC,GAAAC,MAAA,SAAAyB,I,IACzBC,EAIAC,EAIAC,E,kFARkB/B,I,cAAlB6B,EAASG,EAAApB,KAEjBqB,QAAQC,IAAIL,GAEJC,EAAgBD,EAAUb,iBAEhCiB,QAAQC,IAAIJ,G,SAEgBK,QAAQC,IAClCN,EAAcO,IAAG,W,MAACpC,EAAAF,EAAA,CAAAE,EAAAC,GAAAC,MAAA,SAAAC,EAAOkC,G,IACjBC,E,mFAAa,EAAAC,EAAAC,YAAWH,EAAMI,I,cAA9BH,EAAI5B,EAAAC,K,kBACH2B,G,2DAFgBD,G,gCAAR,K,OADbP,EAAaC,EAAApB,KASfU,IACFA,EAAiBqB,UAAYZ,EAAca,KAAK,KAGlDX,QAAQC,IAAIZ,G,wFAGdK,G,eCjNN5B,EAAAD,EAAA,S,aAAA,I,aAGM+C,G,aAAsB,W,MAAG5C,EAAAF,EAAA,CAAAE,EAAAC,GAAAC,MAAA,SAAAC,I,IAErB0C,EACAC,EACFC,EAECC,EAAAC,EAAAC,EAAAC,EAAAC,EAAMf,EAEDgB,E,4FANmB,EAAAC,EAAAC,uB,OAAvBV,EAAcnC,EAAAC,KACdmC,EAAWxB,SAASC,cAAc,4BACpCwB,EAAe,GAEdC,GAAW,EAAXC,GAAW,EAAXC,OAAWM,E,SAAXL,EAAeN,EAAcY,OAAAC,Y,UAA7BV,GAAAI,EAAAD,EAAWQ,QAAAC,KAAA,C,uBAALvB,EAANe,EAAWS,M,qBAEW,EAAAtB,EAAAC,YAAWH,EAAMI,I,QAAlCY,EAAQ3C,EAAAC,KACdoC,GAAgB,OAAgBtC,OAAT4C,EAAS,S,mDAEhCrB,QAAQC,IAAGvB,EAAAoD,I,QALVd,GAAW,E,yEAAXC,GAAW,EAAXC,EAAWxC,EAAAqD,G,4BAAXf,GAAW,MAAXG,EAAWa,QAAXb,EAAWa,S,sBAAXf,EAAW,C,sBAAXC,E,gEASLJ,EAASmB,mBAAmB,YAAalB,G,kDAEzCf,QAAQC,IAAGvB,EAAAwD,I,6IAjBa,IAqBR5C,SAASC,cAAc,mBAC/BE,iBAAiB,QAASzB,EAAAF,EAAA,CAAAE,EAAAC,GAAAC,MAAA,SAAAC,I,kFAC9ByC,I,4CAKRtB,SAASG,iBAAiB,SAAS,SAAA0C,GACjC,IAAMC,EAAmBD,EAAME,OAAOC,QAAQ,cAC1CF,GACOA,EAAiBG,aAAa,K","sources":["src/js/index-catalog.js","src/js/fetches/fetch-trendings-week.js","src/js/other/search-block.js","src/js/other/catalog.js"],"sourcesContent":["// =============Fetches-JS =============\n\nimport \"./fetches/fetch-upcoming\";\nimport \"./fetches/fetch-movie-details\";\nimport \"./fetches/fetch-movie-genre\";\nimport \"./fetches/fetch-trailer\";\nimport \"./fetches/fetch-search\";\nimport \"./fetches/fetch-trendings\";\nimport \"./fetches/fetch-trendings-week\";\n\n// =============Modals-JS =============\n\nimport \"./modals/modal-team\"\nimport \"./modals/slider-modal-team\"\n// import \"./modals/film-info\"\n\n// =============Other-JS =============\n\n// import \"./other/card-markup\"\n// import \"./other/switch-theme-btn\"\nimport \"./other/mob-menu\"\nimport \"./other/slide-menu\"\nimport \"./other/current-page-track\"\nimport \"./other/search-block\"\nimport \"./other/scroll-up\"\nimport './other/catalog'\n// import \"./other/test-card-markup\"\n\n","import axios from 'axios';\n\n\nconst API_KEY = '3e1aa277fd6b8a3cd0a3e29dfce20a5c';\n\nconst fetchTrendingWeekMovies = async () => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/trending/all/week?api_key=${API_KEY}`\n  );\n  //  response.data.results;\n\n   const weeklyTrendsData = {\n    weeklyPage: response.data.page,\n    weeklyTrendsList: response.data.results,\n    weeklyTrendsPages: response.data.total_pages,\n    weeklyTrendsTotal: response.data.total_results,    \n   };\n\n  //  return weeklyTrendsData;\n   return weeklyTrendsData;\n\n};\n\nexport { fetchTrendingWeekMovies };\n","// import flatpickr from \"flatpickr\";\n\n// flatpickr(\".flatpickr-input\", {\n//     dateFormat: \"Y\",\n//     minDate: \"2015\",\n//     maxDate: \"2023\",\n//     static: true,\n//     onOpen: function(selectedDates, dateStr, instance) {\n//       const dropdown = instance.calendarContainer;\n//       dropdown.style.display = \"block\";\n//     },\n//     onClose: function(selectedDates, dateStr, instance) {\n//       const dropdown = instance.calendarContainer;\n//       dropdown.style.display = \"none\";\n//     },\n//     onChange: function(selectedDates, dateStr, instance) {\n//       console.log(\"Обраний рік:\", dateStr);\n//     }\n//   });\n// import { cardMarkup } from './card-markup';\n// import { fetchMovieDetails } from '../fetches/fetch-movie-details';\n// import { fetchSearch } from '../fetch/fetch-search';\n// import Notiflix from 'notiflix';\n\n// const API_KEY = '3e1aa277fd6b8a3cd0a3e29dfce20a5c';\n\n// const container = document.querySelector('.card-list-search-result');\n// const searchForm = document.querySelector('#search-form');\n\n// // Function to load search results\n// const loadMovies = async (inputYear) => {\n//   try {\n//     const response = await fetch(`https://api.themoviedb.org/3/trending/all/week?api_key=${API_KEY}`);\n//     const data = await response.json();\n//     const { results } = data;\n\n//     // Step 2: Destructure the response information\n//     const filteredResults = results.filter(result => {\n//       const releaseYear = Number(result.release_date.slice(0, 4));\n//       return releaseYear === inputYear;\n//     });\n\n//     // Step 4: Map to an array\n//     const movieIds = filteredResults.map(result => result.id);\n\n//     // Step 5: Generate markup for each ID\n//     const movieMarkup = await Promise.all(movieIds.map(async id => {\n//       const movieDetails = await fetchMovieDetails(id);\n//       return cardMarkup(movieDetails.id);\n//     }));\n\n//     // Step 6: Insert markup into the DOM\n//     container.innerHTML = '';\n//     movieMarkup.forEach(card => {\n//       const liElement = document.createElement('li');\n//       liElement.className = 'card-item-search-result';\n//       liElement.innerHTML = card;\n//       container.appendChild(liElement);\n//     });\n//   } catch (error) {\n//     console.log('Error:', error);\n//     Notiflix.Notify.Failure('An error occurred. Please try again.');\n//   }\n// };\n\n// // Event handler for search form submission\n// searchForm.addEventListener('submit', async (event) => {\n//   event.preventDefault();\n//   const inputYear = Number(document.querySelector('.year-of-film-search-form').value);\n\n//   try {\n//     const searchResults = await fetchSearch(inputYear);\n//     const movieIds = searchResults.map(result => result.id);\n//     const movieMarkup = await Promise.all(movieIds.map(async id => {\n//       const movieDetails = await fetchMovieDetails(id);\n//       return cardMarkup(movieDetails.id);\n//     }));\n//     container.innerHTML = '';\n//     movieMarkup.forEach(card => {\n//       const liElement = document.createElement('li');\n//       liElement.className = 'card-item-search-result';\n//       liElement.innerHTML = card;\n//       container.appendChild(liElement);\n//     });\n//   } catch (error) {\n//     console.log('Error:', error);\n//     Notiflix.Notify.Failure('An error occurred. Please try again.');\n//   }\n// });\n\n\n  \n// const inputFilmName = document.querySelector('.input-film-name-search-form');\n// const inputCloseSvg = document.querySelector('.input-close-svg');\n// const searchForm = document.querySelector('.film-name-search-form');\n\n// // \n// inputFilmName.addEventListener('input', () => {\n//   const inputValue = inputFilmName.value.trim();\n\n//   if (inputValue !== '') {\n//     inputCloseSvg.classList.remove('hidden');\n//   } else {\n//     inputCloseSvg.classList.add('hidden');\n//   }\n// });\n\n// // \n// inputCloseSvg.addEventListener('click', () => {\n//   inputFilmName.value = '';\n//   inputCloseSvg.classList.add('hidden');\n// });\n\n// \n// searchForm.addEventListener('submit', (event) => {\n//   event.preventDefault();\n\n//  \n//   const searchQuery = inputFilmName.value.trim();\n\n//   // Виконати необхідні дії зі значенням пошукового запиту, наприклад, відправити на сервер або виконати пошук\n//   // Ваш код тут\n\n//   // Очистити значення інпута\n//   inputFilmName.value = '';\n//   inputCloseSvg.classList.add('hidden');\n// });\n\n// import axios from 'axios';\n\n// const API_KEY = 'YOUR_API_KEY'; // Встановіть свій API ключ TMDb\n\n// const getMovieTrailer = async (movieId) => {\n//   try {\n//     const response = await axios.get(`https://api.themoviedb.org/3/movie/${movieId}/videos`, {\n//       params: {\n//         api_key: API_KEY,\n//       },\n//     });\n\n//     const videos = response.data.results;\n\n//     // Знайдено відео трейлерів\n//     if (videos.length > 0) {\n//       // Виберіть перший трейлер\n//       const trailer = videos.find((video) => video.type === 'Trailer');\n\n//       if (trailer) {\n//         const trailerKey = trailer.key;\n//         const trailerUrl = `https://www.youtube.com/watch?v=${trailerKey}`;\n\n//         // Виконайте необхідні дії з посиланням на трейлер\n//         console.log(trailerUrl);\n//       } else {\n//         // Не знайдено відео трейлерів\n//         console.log('No trailer found');\n//       }\n//     } else {\n//       // Не знайдено відео трейлерів\n//       console.log('No trailer found');\n//     }\n//   } catch (error) {\n//     console.log('Error:', error);\n//   }\n// };\n\n// getMovieTrailer(cardId);\n\n\n\n// ------------------------------------------------------------------------ //\n\nimport { cardMarkup } from './card-markup';\n// import { fetchMovieDetails } from '../fetches/fetch-movie-details';\n\nimport {fetchTrendingWeekMovies} from '../fetches/fetch-trendings-week';\n\nconst catalogContainer = document.querySelector('.card-list-search-result');\n\n\n// ------------------ Start catalog cards markup --------------------\n\nconst onLoadCatalog = () => {\n\n    const displayWeeklyTrendsCatalog = async () => {\n        const trendData = await fetchTrendingWeekMovies();\n\n      console.log(trendData);\n\n        const trendFilmList = trendData.weeklyTrendsList;\n\n        console.log(trendFilmList);\n      \n        const catalogMovies = await Promise.all(\n          trendFilmList.map(async (movie) => {\n            const card = await cardMarkup(movie.id);\n            return card;\n          })\n        );\n      \n        // const catalogTrendsList = document.querySelector('.home-trends-list');\n    \n        if (catalogContainer) {\n          catalogContainer.innerHTML = catalogMovies.join('');\n        }\n\n        console.log(catalogContainer);\n      };\n      \n      displayWeeklyTrendsCatalog();\n\n}\n\nwindow.addEventListener('load', onLoadCatalog);\n\n\n// ------------------ Query catalog cards markup --------------------\n\n","import { fetchTrendingMovies } from '../fetches/fetch-trendings';\nimport { cardMarkup } from './card-markup';\n\nconst populateTrendingMovies = async () => {\n  try {\n    const trendingMovies = await fetchTrendingMovies();\n    const cardList = document.querySelector('.card-list-search-result');\n    let allFilmCards = '';\n\n    for (const movie of trendingMovies) {\n      try {\n        const filmCard = await cardMarkup(movie.id);\n        allFilmCards += `<li>${filmCard}</li>`;\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    cardList.insertAdjacentHTML('beforeend', allFilmCards);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst catalogLink = document.querySelector('.header-catalog');\ncatalogLink.addEventListener('click', async () => {\n  await populateTrendingMovies();\n});\n\nlet cardId;\n\ndocument.addEventListener('click', event => {\n  const clickedMovieCard = event.target.closest('.film-card');\n  if (clickedMovieCard) {\n    cardId = clickedMovieCard.getAttribute('id');\n  }\n});\n\nexport { cardId };\n"],"names":["parcelRequire","$bpxeT","$1ba2e693657cbc2f$export$18ffe7dc79bb9220","$parcel$interopDefault","$2TvXO","mark","_callee","response","weeklyTrendsData","$dIxxU","default","get","concat","_ctx","sent","weeklyPage","data","page","weeklyTrendsList","results","weeklyTrendsPages","total_pages","weeklyTrendsTotal","total_results","$8e5516faeec38b56$var$catalogContainer","document","querySelector","window","addEventListener","displayWeeklyTrendsCatalog","_callee1","trendData","trendFilmList","catalogMovies","_ctx1","console","log","Promise","all","map","movie","card","$5T9lI","cardMarkup","id","innerHTML","join","$fd9a737f0d034927$var$populateTrendingMovies","trendingMovies","cardList","allFilmCards","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","filmCard","$jMR00","fetchTrendingMovies","undefined","Symbol","iterator","next","done","value","t0","t1","return","insertAdjacentHTML","t2","event","clickedMovieCard","target","closest","getAttribute"],"version":3,"file":"catalog.2825a300.js.map"}