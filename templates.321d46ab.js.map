{"mappings":"wsBAMA,I,EAAAA,EAAAC,EAAA,S,0BAIQC,G,EAAaC,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,EAAOC,G,IAElBC,E,mFAAgB,EAAAC,EAAAC,mBAAkBH,GACrCI,MAAK,SAAAC,GAGJ,IAAMC,EAAY,CAChBC,GAAIF,EAASE,GACbC,YAAaH,EAASG,YACtBC,MAAOJ,EAASI,MAChBC,OAAQL,EAASK,OACjBC,KAAMN,EAASO,KAAKC,MAAM,EAAG,GAC7BC,KAAMC,KAAKC,MAAMX,EAASY,cAOtBC,EACG,mrBADHA,EAUG,y3BAVHA,EAwBI,2hBAaVC,QAAQC,IAAIF,EAAkBA,GAE9B,IAiBMG,EA1DM,CAAC,GAAI,GAAI,GAAI,GAAI,IAyCNC,KAAI,WACzB,OAAuB,IAAnBhB,EAAUQ,KASLI,EARHZ,EAAUQ,MAAQ,GACpBR,EAAUQ,MAAQ,EACXI,GACqB,IAAnBZ,EAAUQ,MACnBR,EAAUQ,MAAQ,EACXI,QAFF,C,IAaRI,KACC,SAAAC,G,MASI,4CACMC,OAALD,EAAK,yB,IAIXE,KAAK,IA0BR,MArBA,0CAIsED,OAHvClB,EAAUC,GAAG,uKAGyDiB,OAA/BlB,EAAUE,YAAY,WAA6BgB,OAApBlB,EAAUG,MAAM,MAAuBe,OAAnBlB,EAAUK,KAAK,MAE/Ga,OAFmHlB,EAAUI,OAAO,+EAI/Hc,OAFLlB,EAAUG,MAAM,iFAEWe,OAAtBlB,EAAUI,OAAO,OAGzCc,OAH8ClB,EAAUK,KAAK,kEAGlDa,OAAXH,EAAW,oG,IAclBK,OAAM,SAAAC,G,OAASR,QAAQC,IAAIO,E,kBAvHxB1B,EAAO2B,EAAAC,K,kBAwHN5B,G,oDA1HiBD,G","sources":["src/js/other/card-markup.js"],"sourcesContent":["// import axios from 'axios';\n\n// import starFull from '../../images/icons/stars/star-full.svg';\n// import starHalf from '../../images/icons/stars/star-half.svg';\n// import starEmpty from '../../images/icons/stars/star-empty.svg';\n\nimport { fetchMovieDetails } from '../fetches/fetch-movie-details';\n\n/* Function expects film's ID and returns finished markup of film's card */\n\n  const cardMarkup = async (movieId) => {\n\n    const details = await fetchMovieDetails(movieId)\n      .then(responce => {\n        // console.log(responce);\n    \n        const fetchData = {\n          id: responce.id,\n          smallPoster: responce.smallPoster,\n          title: responce.title,\n          genres: responce.genres,\n          year: responce.date.slice(0, 4),\n          rate: Math.round(responce.voteAverage),\n        };\n    \n        // console.log (fetchData);\n    \n        let array = ['', '', '', '', ''];\n    \n        const valueChoose = {\n          full: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"16\" fill=\"none\">\n          <path fill=\"url(#a)\" d=\"M13.852 15.875a.563.563 0 0 1-.33-.106L9 12.491 4.48 15.77a.562.562 0 0 1-.863-.636L5.379 9.91.81 6.776a.562.562 0 0 1 .316-1.026h5.639L8.465.513a.563.563 0 0 1 1.07 0l1.702 5.238h5.638a.563.563 0 0 1 .319 1.027L12.622 9.91l1.762 5.222a.564.564 0 0 1-.532.743Z\"/>\n          <defs>\n            <linearGradient id=\"a\" x1=\"2.625\" x2=\"13.876\" y1=\"1.25\" y2=\"16.25\" gradientUnits=\"userSpaceOnUse\">\n              <stop stop-color=\"#F84119\"/>\n              <stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\".68\"/>\n            </linearGradient>\n          </defs>\n        </svg>`,\n          half: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\">\n          <path stroke=\"url(#a)\" stroke-linejoin=\"round\" d=\"M15 6.5H9.625L8 1.5l-1.625 5H1l4.375 3-1.688 5L8 11.375l4.313 3.125-1.688-5L15 6.5Z\"/>\n          <path fill=\"url(#b)\" d=\"M8 1.5v9.875L3.687 14.5l1.688-5L1 6.5h5.375L8 1.5Z\"/>\n          <defs>\n            <linearGradient id=\"a\" x1=\"2.71\" x2=\"11.98\" y1=\"2.429\" y2=\"14.855\" gradientUnits=\"userSpaceOnUse\">\n              <stop stop-color=\"#F84119\"/>\n              <stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\".68\"/>\n            </linearGradient>\n            <linearGradient id=\"b\" x1=\"1.855\" x2=\"10.8\" y1=\"2.429\" y2=\"8.424\" gradientUnits=\"userSpaceOnUse\">\n              <stop stop-color=\"#F84119\"/>\n              <stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\".68\"/>\n            </linearGradient>\n          </defs>\n        </svg>`,\n          empty: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"14\" fill=\"none\">\n          <path stroke=\"url(#a)\" stroke-linejoin=\"round\" d=\"M15 5.5H9.625L8 .5l-1.625 5H1l4.375 3-1.688 5L8 10.375l4.313 3.125-1.688-5L15 5.5Z\"/>\n          <defs>\n            <linearGradient id=\"a\" x1=\"2.71\" x2=\"11.98\" y1=\"1.429\" y2=\"13.855\" gradientUnits=\"userSpaceOnUse\">\n              <stop stop-color=\"#F84119\"/>\n              <stop offset=\"1\" stop-color=\"#F89F19\" stop-opacity=\".68\"/>\n            </linearGradient>\n          </defs>\n        </svg>`,\n        };\n\n        \n    \n        console.log(valueChoose.half, valueChoose.empty);\n    \n        const newArray = array.map(() => {\n          if (fetchData.rate !== 0) {\n            if (fetchData.rate >= 2) {\n              fetchData.rate -= 2;\n              return valueChoose.full;\n            } else if (fetchData.rate === 1) {\n              fetchData.rate -= 1;\n              return valueChoose.half;\n            }\n          } else {\n            return valueChoose.empty;\n          }\n        });\n    \n        // console.log(newArray);\n    \n    \n        const rateMarkup = newArray\n          .map(\n            elem =>\n              // `<li class=\"rating-item\">\n              //  <img class=\"rating-icon\" src=\"./images/icons/stars/${elem}\" alt=\"\">\n              //  </li>\n              //  `\n    \n              // `<li class=\"rating-item\">\n              //  <img class=\"rating-icon\" src=\"${elem}\" alt=\"\">\n              //  </li>`\n               `<li class=\"rating-item\">\n               ${elem}\n               </li>`\n      \n          )\n          .join('');\n    \n        // console.log(rateMarkup);\n    \n        const fullMarkup = \n        `\n          <div class=\"film-card\" id=\"${fetchData.id}\">\n          <a class=\"card-link\" href=\"\">\n          <div class=\"img-ovelay\"></div>\n          <img class =\"film-poster\" src=\"https://image.tmdb.org/t/p/original${fetchData.smallPoster}\" alt=\"${fetchData.title}, ${fetchData.year}, ${fetchData.genres}\">\n          <div class=\"film-card-info\">\n          <p class=\"film-name\">${fetchData.title}</p>\n          <div class=\"film-wrap\">\n            <p class=\"film-feature\">${fetchData.genres} | ${fetchData.year}</p>\n            <ul class=\"film-rating\">\n    \n            ${rateMarkup}\n            </ul>\n            </div>\n          </div>\n        </a>\n        </div>\n        `;\n    \n        // console.log (fullMarkup);\n    \n        return fullMarkup;\n    \n      }\n      )\n      .catch(error => console.log(error));\n    return details;\n    };\n\n    export {cardMarkup};"],"names":["$bpxeT","parcelRequire","$4499575cb70ba67c$export$e9dce1737af53b91","$parcel$interopDefault","$2TvXO","mark","_callee","movieId","details","$ldyZu","fetchMovieDetails","then","responce","fetchData","id","smallPoster","title","genres","year","date","slice","rate","Math","round","voteAverage","valueChoose","console","log","rateMarkup","map","elem","concat","join","catch","error","_ctx","sent"],"version":3,"file":"templates.321d46ab.js.map"}